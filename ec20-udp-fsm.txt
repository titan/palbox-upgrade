+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             |            |                  |                  |                      | +QIOPEN: connectid,x | +QIOPEN: connectid,x |                              | +QIURC: "recv",connectid,length |         |                | TIMEOUT        | TIMEOUT        |
| state\event   | open      | close      | write       | OK         | ERROR, retry > 0 | ERROR, retry = 0 | +QIOPEN: connectid,0 | retry > 0            | retry = 0            | +QIURC: "pdpdeact",contextid | data                            | SEND OK | SEND ERROR     | retry > 0      | retry = 0      |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               | AT+QICSGP |            |             |            |                  |                  |                      |                      |                      |                              |                                 |         |                |                |                |
|               | ----      |            |             |            |                  |                  |                      |                      |                      |                              |                                 |         |                |                |                |
| READY         | QICSGPING |            |             |            |                  |                  |                      |                      |                      |                              |                                 |         |                |                |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | AT+QIACT   | AT+QICSGP        |                  |                      |                      |                      |                              |                                 |         |                | AT+QICSGP      |                |
|               |           |            |             | ----       | ----             |                  |                      |                      |                      |                              |                                 |         |                | ----           |                |
| QICSGPING     |           |            |             | QIACTING   | QICSGP ERROR     |                  |                      |                      |                      |                              |                                 |         |                | QICSGP ERROR   |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | AT+QIACT   | retry - 1        | reboot           |                      |                      |                      |                              |                                 |         |                | retry - 1      | reboot         |
|               |           |            |             | ----       | AT+QICSGP        | ----             |                      |                      |                      |                              |                                 |         |                | AT+QICSGP      | ----           |
| QICSGP ERROR  |           |            |             | QIACTING   | ----             | READY            |                      |                      |                      |                              |                                 |         |                | ----           | READY          |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             |            | retry - 1        |                  |                      |                      |                      |                              |                                 |         |                |                |                |
|               |           |            |             | AT+QIOPEN  | AT+QIACT         |                  |                      |                      |                      |                              |                                 |         |                | AT+QIACT       |                |
|               |           |            |             | ----       | ----             |                  |                      |                      |                      |                              |                                 |         |                | ----           |                |
| QIACTING      |           |            |             | QIOPENNING | QIACT ERROR      |                  |                      |                      |                      |                              |                                 |         |                | QIACT ERROR    |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | AT+QIOPEN  | retry - 1        | reboot           |                      |                      |                      |                              |                                 |         |                | retry - 1      | reboot         |
|               |           |            |             | ----       | AT+QIACT         | ----             |                      |                      |                      |                              |                                 |         |                | AT+QIACT       | ----           |
| QIACT ERROR   |           |            |             | QIOPENNING | ----             | READY            |                      |                      |                      |                              |                                 |         |                | ----           | READY          |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             |            |                  |                  | connected            | AT+QIOPEN            |                      |                              |                                 |         |                |                |                |
|               |           |            |             |            |                  |                  | ----                 | ----                 |                      |                              |                                 |         |                |                |                |
| QIOPENNING    |           |            |             |            |                  |                  | QIOPEN OKAY          | QIOPEN ERROR         |                      |                              |                                 |         |                |                |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             |            | error callback   | error callback   |                      |                      |                      | error callback               |                                 |         |                | error callback | error callback |
|               |           | AT+QICLOSE |             |            | AT+QICLOSE       | AT+QICLOSE       |                      |                      |                      | AT+QIDEACT                   |                                 |         |                | AT+QICLOSE     | AT+QICLOSE     |
|               |           | ----       | AT+QISENDEX |            | ----             | ----             |                      |                      |                      | ----                         | read callback                   |         | error callback | ----           | ----           |
| QIOPEN OKAY   |           | QICLOSING  | ----        |            | QICLOSING        | QICLOSING        |                      |                      |                      | QIDEACTING                   | ----                            |         | ----           | QICLOSING      | QICLOSING      |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             |            |                  |                  |                      |                      | error callback       |                              |                                 |         |                |                |                |
|               |           |            |             |            |                  |                  |                      | retry - 1            | AT+QIDEACT           |                              |                                 |         |                |                |                |
|               |           |            |             |            |                  |                  |                      | AT+QIOPEN            | ----                 |                              |                                 |         |                |                |                |
| QIOPEN ERROR  |           |            |             |            |                  |                  |                      | ----                 | QIDEACTING           |                              |                                 |         |                |                |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | AT+QIDEACT | AT+QICLOSE       |                  |                      |                      |                      |                              |                                 |         |                | AT+QICLOSE     |                |
|               |           |            |             | ----       | ----             |                  |                      |                      |                      |                              |                                 |         |                | ----           |                |
| QICLOSING     |           |            |             | QIDEACTING | QICLOSE ERROR    |                  |                      |                      |                      |                              |                                 |         |                | QICLOSE ERROR  |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | AT+QIDEACT | retry - 1        | reboot           |                      |                      |                      |                              |                                 |         |                | retry - 1      | reboot         |
|               |           |            |             | ----       | AT+QICLOSE       | ----             |                      |                      |                      |                              |                                 |         |                | AT+QICLOSE     | ----           |
| QICLOSE ERROR |           |            |             | QIDEACTING | ----             | READY            |                      |                      |                      |                              |                                 |         |                | ----           | READY          |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | clear      | AT+QIDEACT       |                  |                      |                      |                      |                              |                                 |         |                | AT+QIDEACT     |                |
|               |           |            |             | ----       | ----             |                  |                      |                      |                      |                              |                                 |         |                | ----           |                |
| QIDEACTING    |           |            |             | READY      | QIDEACT ERROR    |                  |                      |                      |                      |                              |                                 |         |                | QIDEACT ERROR  |                |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
|               |           |            |             | clear      | retry - 1        | reboot           |                      |                      |                      |                              |                                 |         |                | retry - 1      | reboot         |
|               |           |            |             | ----       | AT+QIDEACT       | ----             |                      |                      |                      |                              |                                 |         |                | AT+QIDEACT     | ----           |
| QIDEACT ERROR |           |            |             | READY      | ----             | READY            |                      |                      |                      |                              |                                 |         |                | ----           | READY          |
+---------------+-----------+------------+-------------+------------+------------------+------------------+----------------------+----------------------+----------------------+------------------------------+---------------------------------+---------+----------------+----------------+----------------+
